<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>在客户端存储数据</title>
</head>

<body>
    <button onclick="local()">localStorage-没有时间限制的数据存储</button>
    <button onclick="session()">sessionStorage-针对一个 session 的数据存储，当用户关闭浏览器窗口后，数据会被删除。</button>
    <p id="p">HTML5 提供了两种在客户端存储数据的新方法：<br />
        localStorage - 没有时间限制的数据存储<br />
        sessionStorage - 针对一个 session 的数据存储</p>
    <script type="text/javascript">

        //每次打开就执行一次
        if (localStorage.pageCount) {
            localStorage.pageCount = Number(localStorage.pageCount) + 1;
        } else {
            localStorage.pageCount = 1;
        }

        function local() {
            document.getElementById("p").innerHTML = "localStorage存储的访问次数：" + localStorage.pageCount;
        }

        if (sessionStorage.pageCount) {
            sessionStorage.pageCount = Number(sessionStorage.pageCount) + 1;
        } else {
            sessionStorage.pageCount = 1;
        }

        function session() {
            document.getElementById("p").innerHTML = "sessionStorage存储的访问次数：" + sessionStorage.pageCount;
        }

    </script>
</body>

</html>